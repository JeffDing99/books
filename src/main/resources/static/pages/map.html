<!DOCTYPE html>
<html>
    <head>
        <!-- 页面meta -->
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>传智健康</title>
        <meta name="description" content="传智健康">
        <meta name="keywords" content="传智健康">
        <meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport">
        <link rel="stylesheet" href="../plugins/elementui/index.css">
        <link rel="stylesheet" href="../plugins/font-awesome/css/font-awesome.min.css">
        <link rel="stylesheet" href="../css/style.css">
        <script type="text/javascript" src="https://api.map.baidu.com/api?v=3.0&ak=so6a8tmQmbr1gyyuhN0O5Dbyxr3hlGnk
"></script>
        <style type="text/css">
            body, html,#container {width: 100%;height: 100%;overflow: hidden;margin:0;font-family:"微软雅黑";}
        </style>
    </head>
    <body>

    <div class="app" id="container"></div>

    </body>
    <!-- 引入组件库 -->
    <script src="../js/vue.js"></script>
    <script src="../plugins/elementui/index.js"></script>
    <script type="text/javascript" src="../js/jquery.min.js"></script>
    <script src="../js/axios-0.18.0.js"></script>
    <script type="text/javascript">
        var mp = new BMap.Map("container");
        //mp.centerAndZoom(new BMap.Point(116.404, 39.915), 12);
        mp.centerAndZoom("泰安",12);
        mp.enableScrollWheelZoom(true);
        var geolocation = new BMap.Geolocation();

       /* geolocation.getCurrentPosition(function(r){
            if(this.getStatus() == BMAP_STATUS_SUCCESS){
                var mk = new BMap.Marker(r.point);
                map.addOverlay(mk);
                map.panTo(r.point);
                 alert('您的位置：'+r.point.lng+','+r.point.lat);
            }
            else {
                 alert('failed'+this.getStatus());
            }
        });*/
        var canvasLayer = new BMap.CanvasLayer({
            update: update
        });

        function update() {
            var ctx = this.canvas.getContext("2d");

            if (!ctx) {
                return;
            }

            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);

            var temp = {};
            ctx.fillStyle = "rgba(50, 50, 255, 0.7)";
            ctx.beginPath();
            var data = [
                new BMap.Point(116.297047,39.979542),
                new BMap.Point(116.321768,39.88748),
                new BMap.Point(116.494243,39.956539)
            ];

            for (var i = 0, len = data.length; i < len; i++) {
                var pixel = mp.pointToPixel(data[i]);
                ctx.fillRect(pixel.x, pixel.y, 30, 30);
            }
        }
        mp.addOverlay(canvasLayer);
    </script>
</html>
